# SIRT

画像再構成の手法の1つであるSimultaneous Reconstruction Technique(SIRT)をC++で実装した。
投影、逆投影にはpixel-drivenの手法を採用した。
入出力画像形式として後に示すような独自形式にのみ対応している。

## 画像形式

以下のような構造をしている。

* Magic number(4 byte) 0x50 0x30 0x00 0x00
* 幅(unsigned int 4byte)
* 高さ(unsigned int 4byte)
* 画素値(float 4byte)の配列[幅*高さ]

画素値の配列は左上から順に横方向に進んでいくように並んでいて、つまり各隅は左上、右上、左下、右下の順に現れる。
現在の実装では画素値は0から255の範囲である必要がある(要検証)。

## memo

### 投影について

画像の中心(0, 0)から下ろした垂線は角度によらず*projのド真ん中に落ちることをうまく使う。
平行ビームで考えると、pixelと(0, 0)を通る検知器列と直交する線との距離がそのまま検知器中心との距離になる。
ファンビームではX線源の位置も関わってくるが、X線源を中心とした同心円の中心を通る垂線との弧(あるいはその三角形)を考えて相似を使えばいいと思われる
